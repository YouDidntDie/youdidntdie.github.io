<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>You Didn’t Die — Survival Guide</title>
  <style>
    :root {
      --green: #00ff00;
      --dark: #000000;
      --glow: 0 0 8px var(--green);
      --font: 'Courier New', monospace;
    }

    body {
      margin: 0;
      height: 100vh;
      background: var(--dark);
      color: var(--green);
      font-family: var(--font);
      display: flex;
      flex-direction: column;
    }

    header {
      padding: 1rem;
      border-bottom: 2px solid var(--green);
      text-align: center;
      user-select: none;
      background: #001a0d;
      font-size: 1.4rem;
      box-shadow: inset 0 0 10px #004422;
    }

    #container {
      flex: 1;
      display: flex;
      overflow: hidden;
    }

    nav {
      width: 200px;
      background: #001a0d;
      border-right: 2px solid var(--green);
      box-shadow: inset 0 0 10px #004422;
      display: flex;
      flex-direction: column;
    }

    nav button {
      width: 100%;
      padding: 1rem;
      border: none;
      background: none;
      color: var(--green);
      cursor: pointer;
      text-align: left;
      font-size: 1rem;
      border-top: 1px solid var(--green);
      font-family: var(--font);
      transition: background 0.3s;
    }

    nav button:first-child {
      border-top: none;
    }

    nav button.active,
    nav button:hover {
      background-color: #003322;
      text-shadow: var(--glow);
    }

    main {
      flex: 1;
      padding: 2rem;
      overflow: auto;
      background: #001a0d;
      font-size: 1.1rem;
      line-height: 1.5;
    }

    /* Sidebar Encyclopedia */
    #sidebar {
      position: fixed;
      top: 52px;
      right: -320px;
      width: 320px;
      bottom: 0;
      background: #00220d;
      border-left: 2px solid var(--green);
      transition: right 0.4s ease;
      overflow-y: auto;
      padding: 1rem;
      box-shadow: inset 0 0 12px #004422;
      z-index: 999;
    }

    #sidebar.open {
      right: 0;
    }

    .chapter {
      margin-bottom: 2rem;
    }

    .chapter-title {
      font-size: 1.2rem;
      cursor: pointer;
      padding: 0.5rem;
      border: 1px solid var(--green);
      margin-bottom: 0.5rem;
      background-color: #001a0d;
    }

    .chapter-title:hover {
      background-color: #003322;
    }

    .chapter-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
      padding-left: 1rem;
    }

    .chapter-content.open {
      max-height: 400px;
    }

    @keyframes flicker {
      0% {opacity:1;} 10% {opacity:0.97;} 20% {opacity:1;} 
      30% {opacity:0.95;} 40% {opacity:1;} 100% {opacity:1;}
    }

    .fade-in {
      animation: flicker 0.2s 1;
    }

    /* Scrollbar hiding */
    #sidebar::-webkit-scrollbar { display: none; }
    #sidebar { -ms-overflow-style: none; scrollbar-width: none; }

    /* Responsive tweaks */
    @media (max-width: 700px) {
      nav {
        flex-direction: row;
        overflow-x: auto;
        width: 100%;
        border-right: none;
        border-bottom: 2px solid var(--green);
      }
      nav button {
        flex: 1 0 auto;
        text-align: center;
        border-left: 1px solid var(--green);
        border-top: none;
        border-bottom: none;
      }
    }
  </style>
</head>
<body>
  <header>You Didn’t Die — Survival Guide</header>

  <div id="container">
    <nav>
      <button data-section="start" class="active">Start</button>
      <button data-section="basics">Basics</button>
      <button data-section="threats">Threats</button>
      <button data-section="mental">Mental Survival</button>
      <button data-section="tools">Tools</button>
      <button data-section="store">Store</button>
      <button data-section="about">About</button>
    </nav>
    <main id="content">
      Welcome. Select a section to get snarked at by an artificial intelligence that’s been through more end-times than your childhood trauma.
    </main>
  </div>

  <div id="sidebar"></div>

  <script>
    const CONTENT = {
      start: "Welcome, meatbag. Select a topic and maybe—just maybe—you’ll survive the weekend.",
      basics: {
        chapters: [
          { title: "Water", text: "Always purify your water. Boil, filter, or use tablets. Unless you're into diarrhea cosplay." },
          { title: "Fire", text: "Fire is warm. Fire is light. Fire is your best friend until it eats your shelter." },
          { title: "Shelter", text: "Find cover. Build something. A trash bag is better than frostbite. I don’t make the rules." },
          { title: "Food", text: "Forage, hunt, or get eaten. Either way, it’s a buffet." }
        ]
      },
      threats: "Threats:\nNatural: Earthquakes, floods, storms.\nMan-made: Nuclear fallout, TikTok challenges, idiots with guns.",
      mental: "Mental Survival:\nStay calm. Or don’t. Either way, panic is inefficient.\nTalk to yourself—just not too loudly.",
      tools: "Tools:\nKnives, duct tape, first-aid kits. If you forgot these, you’re already halfway to dead.",
      store: "Store:\nComing soon: overpriced gadgets you didn’t know you needed until everything went sideways.",
      about: "About:\nBuilt by Nick.\nMaintained by a rogue AI trained on sarcasm and survival guides.\nAll snark, no sugar."
    };

    const nav = document.querySelector("nav");
    const content = document.getElementById("content");
    const sidebar = document.getElementById("sidebar");

    function setActive(btn) {
      nav.querySelectorAll("button").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
    }

    function loadBasics() {
      sidebar.innerHTML = CONTENT.basics.chapters.map((ch, i) =>
        `<div class="chapter">
           <div class="chapter-title" data-index="${i}">${ch.title}</div>
           <div class="chapter-content">${ch.text}</div>
         </div>`
      ).join("");

      document.querySelectorAll(".chapter-title").forEach(t => {
        t.addEventListener("click", () => {
          const content = t.nextElementSibling;
          content.classList.toggle("open");
          content.classList.add("fade-in");
          setTimeout(() => content.classList.remove("fade-in"), 300);
        });
      });

      sidebar.classList.add("open");
    }

    nav.addEventListener("click", e => {
      if (e.target.tagName === "BUTTON") {
        const section = e.target.getAttribute("data-section");
        setActive(e.target);
        content.textContent = "Loading " + section + "...";
        sidebar.classList.remove("open");

        if (section === "basics") {
          setTimeout(() => {
            content.textContent = "Basics Encyclopedia Loaded. Check the sidebar.";
            loadBasics();
          }, 200);
        } else {
          content.textContent = CONTENT[section] || "This section is under radioactive construction.";
        }
      }
    });

    // Load Basics by default for demo
    setTimeout(() => {
      nav.querySelector('[data-section="basics"]').click();
    }, 200);
  </script>
</body>
</html>
